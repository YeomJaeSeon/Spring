# 프로토 타입 스코프

- 싱글톤 스코프는 지금까지 계속 (몰랐지만) 사용해왔기에 (default로) 생략하고 프로토타입 스코프부터 알아보자.
- 복습하자면 빈 스코프는 빈이 존재할수있는 범위이다.
- 즉, 스프링 컨테이너가 관리하는 범위
- 프로토타입 스코프는 스프링빈이 등록되고, 스프링빈간의 의존관계가 주입되고 초기화콜백 메서드 호출까지 스프링 컨테이너가 스프링 빈을 관리한다. 그이후는 해당 스프링 빈에 대한 책임을 클라이언트에게 던진다.
- 그래서 클라이언트가 요청할때마다 새로운 빈을 생성한다.
- 즉, 스프링 컨테이너는 싱글턴 컨테이너로 스프링빈은 싱글톤으로 유지하는데 프로토타입 스코프를 이용하면 그러지 못한다.
- 추가로 초기화콜백메서드까진 스프링 컨테이너가 관리하나 그 이후는 스프링 컨테이너가 관리하지않기에 `@PreDestory`같은 소멸전 콜백도 호출되지않는다.

# 싱글톤 스코프 빈과 프로토타입 스코프 빈의 다른점

1. 스프링빈 등록, 초기화 시점이 다르다..?

- 싱글톤 스코프 빈은 스프링 컨테이너 생성되는 시점에 스프링빈이 등록된다. 반면 프로토타입 스코프 빈은 빈 조회할떄마다 새롭게 빈을 생성한다.

2. 싱글톤이 유지되지않는다?

- 프로토타입 스코프 빈은 클라이언트가 요청(빈 조회)할때마다 새로운 빈을 등록하고 의존관계 주입하면 클라잉너트에게 던지므로 싱글톤이 유지되지않는다.

3. 소멸전 콜백 실행 안된다.?

- 프로토타입 스프링 컨테이너가 초기화콜백메서드 까지만 관리하므로 `@PreDestroy`콜백메서드는 호출되지 않는다. 이 시점의 해당 빈의 관리의 책임은 클라이언트에게있다. 싱글톤 스프링 빈은 스프링 컨테이너가 다 관리한다..!

> 기본적으로 default인 싱글톤 스코프 빈을 자주사용하지만 가끔 프로토타입 스코프 빈을 사용해야할 때가 있다. 그때 주의할점이있다! 다음시간에..
