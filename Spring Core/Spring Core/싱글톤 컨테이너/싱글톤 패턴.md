# 싱글톤패턴

- 저번시간에 여러명이 동시에 요청오면 다다른 객체를 여러~개생성하고 요청이끝나면 gc로 메모리 할당 해제하는 동작이 메모리에 좋지않다는걸 느껴서 싱글톤으로 하나의 객체만 만들어서 공유하면서 사용해야된다는 생각이들었다. 이번엔 싱글톤 패턴을 적용해보자.

- 적용은 너무쉽다. 접근제어자 private을 생성자에박아서 외부 클래스에서 해당 클래스 인스턴스 생성못하게하고 해당 클래스 내에서 private하게 자신의 클래스의 인스턴스를 만들고 public으로 해당 인스턴스 반환해주는 메서드만 딱 만들면된다. 너무간단하다.

- 이렇게되면 외부에서 해당 인스턴스를 새롭게 생성못하고 static레벨에있는 인스턴스를 재사용하게된다.

# 싱글톤 패턴 문제점

- 코드를 내가 직접구현해야함. (싱글톤 패턴을)
- 의존관계상 구체클래스에 의존하기 때문에 DIP를 지키지못한다.
- DIP못지키닌까 OCP도못지킬가능성이 농후해짐.
- 구체클래으세 의존하므로 테스트 도 힘들다.
- private생성자이므로 자식클래스 만들기 어렵다.
- 유연성이 떨어진다...

# 해결

- 스프링을 쓰면 싱글톤패턴의 장점!, 하나의 객체를 공유하며 사용하는 메모리 낭비 줄이는 장점을 살리며 위에 말한 단점들을 다해결할수있다. 스프링 컨테이너에 등록된 스프링빈 객체들은 싱글톤으로 존재하기 떄문이다. 이는 다음시간에 좀더 자세히 알아보자.
