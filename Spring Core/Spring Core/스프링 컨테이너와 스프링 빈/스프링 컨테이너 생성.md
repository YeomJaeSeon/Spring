# 스프링 컨테이너 생성 과정

` ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);`

- 스프링 컨테이너를 생성하는 과정이다.
- `ApplicationContext`를 스프링 컨테이너라고 한다. 참고로 `ApplicationContext`는 인터페이스이고 실제 참조하는 인스턴스는 `ApplicationContext` 인터페이스를 구현한 실제 구현 클래스이다.

- 스프링컨테이너는 XML로만들수도있지만우리가 만든 방식인 `@Configuration`을사용한 자바클래스로 **애너테이션 기반 자바 설정 클래스**로 스프링 컨테이너를 만들수 있다.

- 정리하면 애너테이션 기반 자반 설정 클래스를 통해서 스프링 컨테이너를 만드는 과정으론 `ApplicationContext`라는 인터페이스를 통해서 실제 구현한 클래스를 참조한다, 파라미터로 애너테이션 기반 자바 설정 클래스를 넣는다. (다형성이 사용된 것이다.)

(참고로 스프링 컨테이너는 BeanFactory, ApplicationContext를 구분해서 이야기하지만 BeanFactory를 직접 사용하는 경우는 거의 없으므로 ApplicationContext를 스프링 컨테이너라고 하겠다. 이부분은 뒤에서 더자세히..)

# 스프링 컨테이너 생성 과정을 단계별로 알아보자.

1. 스프링 컨테이너 생성

- 애너테이션 자바 설정 클래스(그래서 스프링 컨테이너 생성할때 구성 정보를 같이 제공해야한다. `AppConfig.class`를 파라미터로 넘긴과정.)를 통해서 스프링 컨테이너를 생성하면 스프링 컨테이너가 생성되고 스프링 빈 저장소가 만들어진다(아직은 스프링 빈 저장소에 아무 스프링빈도 들어있지않은 상태이다.)

2. 스프링 빈 저장소에 스프링 빈 등록

- 애너테이션 기반 자바 설정클래스의 설정 (구성) 정보를 이용하여 스프링 컨테이너 내의 스프링 빈 저장소에 스프링 빈을 등록한다. (`@Bean`이라고 등록된 메서드의 이름을 스프링 빈 저장소의 key로, 해당 메서드를 호출한 결과인 실제 객체를 스프링 빈 저장소의 value로 저장해놓는다.)

  (참고로 스프링 빈이름은 중복이되면안된다..)

3. 스프링 빈 의존관계 설정(준비 및 완료)

- 스프링 컨테이너는 설정(구성) 클래스의 설정 정보를 보고 스프링 빈 간의 DI를 한다.(의존관계를 주입한다.)

# 결론

1. 스프링 컨테이너 생성
2. 스프링 빈 등록(설정 정보를 보고)
3. 스프링 빈간의 DI(의존관계 주입하여 의존관계 설정)

> 더 자세한 내용등은 추후에 다룬다. 일단 기본적으로 스프링 컨테이너가 어떤 과정에 걸쳐서 만들어지는지, 스프링빈은 어떻게 관리가되고 저장되는지만 알고넘어가자.
