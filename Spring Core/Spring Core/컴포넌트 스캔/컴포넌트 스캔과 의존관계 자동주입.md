# 지금까지

- 지금까진 자바 설정 클래스에서 `@Bean`으로 하나하나 스프링빈을 일일이 등록해줬다.
- 이를 수동으로 스프링빈을 등록해줬다고한다.
- 그런데 이렇게 하나씩 스프링 빈으로 등록하는건 실수할 가능성도 크고 등록해야할 스프링빈이 많아지면 복잡해지고 귀찮아진다.
- 그래서 컴포넌트 스캔방식으로 `@Bean`으로 일일이 스프링빈으로 등록하지 않아도 자동으로 스프링 컨테이너에 스프링 빈으로 등록되게 하는 방법이있다.
- 즉, 컴포넌트 스캔방식을 이용하면 자동으로 스프링 빈으로 등록되게 할수있다.

# 컴포넌트 스캔방식

- `@ComponenetScan`을 이용하면 `@Component`가 붙은 클래스들은 스프링 빈으로 자동으로 등록된다.
- 이전에 `@Bean`으로 수동으로 스프링빈 등록할때는 의존관계주입을 명시적으로할수있었다.

```
@Bean
    public MemberService memberService(){
        System.out.println("call AppConfig.memberService");
        return new MemberServiceImpl(memberRepository()); // 스프링빈
    }
```

- MemberServiceImpl 생성자 매개변수로 memberRepository메서드가 반환하는 값을 넣으며 의존관계를 명시해줬다.
- 그러나 이러한 설정파일이 없이 자동으로 스프리링 컨테이너에 스프링 빈을 등록하는 컴포넌트 스캔방식은 의존관계 주입을 어떻게할까?

# Autowired 자동 의존관계 주입

- 컴포넌트 스캔방식으로 스프링빈으로 자동으로 등록할땐 스프링 빈간의 의존관계 주입을 `@Autowired`를 통해서 할수있다. 명시적으로 의존관계를 명시하는게 아니라 자동으로 의존관계를 주입해주기에 자동의존관계 주입이라고 했다.

- `@Autowired`는 단순히 생성자 위에 해당 에너테이션을 붙이면 스프링 컨테이너중 맞는 스프링빈을 찾아서 의존관계를 주입해준다.
- 코드를보면

```
@Autowired
    public MemberServiceImpl(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
```

- MemberRepository에 맞는 타입의 스프링빈을 가져와서 자동으로 MemberServiceImpl빈에 의존관계를 주입해준다.
- 현재 컴포넌트 스캔방식으로 스프링빈에등록되어있는 `MemoryMemberRepository`스프링 빈이 주입된다.(부모타입으로도 이게 걸러지는군.)
- 그러면 만약 한 부모 타입의 자식타입의 빈이 여러개있으면? 충돌이 일어난다.

# 결론

1. 스프링 빈을 수동으로 등록하는건 귀찮고 실수할 가능성도 크다.
2. 그래서 스프링 스캔 이라는 방식을 통해 일일이 스프링빈을 나열하지않고도 (`@Bean`) 자동으로 스프링 빈에 등록할 수있다. `@Component` 애너테이션이 붙은 클래스를 자동으로 스프링 빈을 등록한다.
3. 명시적으로 스프링빈을 나열하며 의존관계 설정을했지만 컴포넌트 스캔방식에선 할수가없다. 대신 `@Autowired`를 통해서 자동 스프링 빈 등록이므로 **자동 의존관계설정**을 할수있다.
