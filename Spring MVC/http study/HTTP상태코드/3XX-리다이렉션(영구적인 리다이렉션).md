# 3XX 는 클라이언트의 요청에 대한 처리를 위해 추가적인 작업이 필요하다는걸 응답 status line에 넣어서 알려주는 것이당.

3XX 리다이렉션도 상황들이 여러개있다.

# 리다이렉션의 이해

- 웹브라우저는 3XX 응답결과에 Location 헤더가 있으면 Location위치로 자동이동한다.(리다이렉트)

## 과정

(event페이지가 new-event페이지로 변경된상태임)

1. /event GET으로 요청(클라가 서버로)
2. 서버는 어 event페이지 이제없는데 new-event페이지 301 Move Permanently로 응답하고 Location 헤더에 /new-event를 넣어서 응답
3. 클라이언트는 다시 GET으로 /new-event요청(자동으로 리다이렉트됨 - 웹브라우저가 url에 url치고 enter를 탕하고 누르는것과같음)
4. 서버는 클라이언트의 요청에 대해서 성공하면 200 OK로 응답한다.

# 리다이렉션의 종류

1. 영구 리다이렉션 - 특정 리소스의 URI가 영구적으로 이동
   ex) /event -> /new-event
2. 일시 리다이렉션 - 일시적인 변경
3. 특수 리다이렉션(결과 대신 캐시를 사용)

# 영구 리다이렉션(301, 308)

- 리소스의 URI가 영구적으로 이동되어 클라이언트의 요청에 대해 301이나 308로 URI변경되었다고 Location헤더에 변경된 URI넣어서응답. 그러면 웹브라우저는 자동 리다이렉트를 통해서 Location헤더에온 URI로 다시 요청, 성공하면 서버는 200 OK응답.

## Moved Permanently 301

- 리다이렉트시 요청 메서드가 GET으로 변하고 request body데이터가 사라질수 있음
  (MAY)

## Permanent Redirect 308

- 301과기능은같다.
- 다른점은 리다이렉트시 요청 메서드와 본문 유지.(거의 안씀 왜냐면 영구적으로 URI바껴서 리다이렉트할떄는 거의 클라이언트에서 보낼 데이터 폼도 변경되므로 그냥 301을 사용함)

# 3XX (301 308 영구적인 리다이렉션) 결론

- 웹브라우저의 요청에 대해 추가적인 작업이 있을떄 3XX로 응답하는데 리다이렉션에도 영구적 리다이렉션, 일시적, 특수 리다이렉션이있다.
- 리다이렉션은 3XX status code와 Location헤더를 응답하는데 해당 Location헤더의 URI를 통해서 웹브라우저는 자동 리다이렉트가 된다.(자동으로 Location 헤더의 URI를 다시 서버로 요청함.) 그러면 서버는 새로운 요청에대한결과로 요청 처리가 성공하면 200 OK를 응답

- 영구 리다이렉트 status code인 301 308의차이는 리다이렉트 요청시 메서드가 GET으로 변경될수 있냐의 여부와 리다이렉트시 request body의 데이터가 존재의 여부이다. 301은 존재하지않을수있고 308은 무조건 존재한다.

- 그러나 리다이렉션의 의미를 살펴보면 영구적인 리다이렉션은 영구적으로 URI가 바뀌었다는 의미이고 웹브라우저에서 보내는 데이터폼도 변경되었다는 의미이므로 거의 301만 사용하지 308은 사용안함. 사실 영구 리다이렉션도 거의사용안함. 다음시간에할 일시적 리다이렉션을 가장많이 사용함.
