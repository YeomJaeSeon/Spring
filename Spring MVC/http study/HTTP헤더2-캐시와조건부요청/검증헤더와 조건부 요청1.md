# 저번에 생각했던 문제를 해결해보자, 캐시 유효시간이 끝났어도 리소스가 변경이안되면 굳이 다시 네트워크를 통해서 다운받아야하나?

-> 대답은 NO!

## 서버에서 검증 헤더를 HTTP 응답 메시지에 넣어서 내려준다.!!

- 검증헤더란 `Last-Modified:~~날짜`를 의미한다.
- 서버에서 응답헤더에 검증헤더를 넣어서 같이 내려준다. 물론 `cache-control`으로 캐시 유효시간도같이 응답헤더에 넣어서 내려준다.

- 만약 웹브라우저가 캐시되어있는 리소스 유효시간이 끝나서 요청하면 `if-modifed-since:~날짜`라는 조건부 요청헤더를 Http request 요청 헤더에 넣어서 요청한다.

- 서버는 조건부 요청 헤더와 검증헤더를 통해서 리소스가 변경안된걸 깨닫고 **Body가 없고 헤더만있는 status code가 304 NOT Modified**인 Http Response Message를 내려준다.

- 이렇게되면 캐시 유효시간이 끝났어도 다시 네트워크를 통해서 다운받지않아도되는 매우매우 실용적인 해결책이 만들어진것이다.

- 물론 검증헤더와 조건부요청을 확인해서 서버는 응답 메시지를 보내긴하는데 헤더만 보내므로 (바디는 안보냄) 네트워크 다운로드가 발생하긴하지만 매우 적은 정보이므로 실용적이다.

# 결론

- 응답에서 내려주는 `last-modified`인 검증헤더와 요청 헤더의 `if-modified-since` 조건부 요청을 통해서 서버의 리소스 변화를 탐지할수있고 변경이 되지않았따면 서버는 바디가 없는 304 Not Modified 메시지를 내려주면 클라이언트는 캐시 저장소에 저장되어있는 해당 리소스를 재활용하여 네트워크간의 효율성을 도모한다!!!
