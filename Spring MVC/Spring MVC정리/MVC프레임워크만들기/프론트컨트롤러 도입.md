# 먼저 프론트컨트롤러패턴을 도입하기위해 구조부터 변경해보자.

## 프론트 컨트롤러 패턴 과정

1. HTTP요청을 받음
2. 프론트컨트롤러는 uri와 호출되야할 먼트롤러를 매핑함. 이 매핑정보를 저장해놈.
3. 요청된 uri와 맞는 컨트롤러 호출 (이때 인터페이스를 통해서 구현과상관없이 로직의일관성을 가질수있음. )
4. 각 컨트롤러에선 jsp를 포워딩함(서버 내부에서 호출)
5. HTTP 응답.

- 먼저 프론트 컨트롤러에서 각 컨트롤러 호출할 인터페이스 구현 (이 인터페이스를 각 new-form컨트롤러, save컨트롤러, list컨트롤러가 상속받는다. - 추상메서드 오버라이딩으로 구체화한다. 각 컨트롤러는.)

- 그리고 프론트컨트롤러에서 각 uri와 컨트롤러 매핑하고 정보를 저장함.
- 그리고 인터페이스를 통해서 각 컨트롤러를 호출함. 어떤 컨트롤러를 호출할지 몰라도 인터페이스의 추상메서드를 통해서 구현체가 달라도 로직의 일관성을 가질수있다.
  `controller.process(request, response)`

참고로`ControllerV1 controller = controllerV1Map.get(requestURI)`이 부분은 `ControllerV1 controller = new MemberListControllerV1();`과 동일한 (혹은 다를수도있음 키값인 URI에 따라서.) 코드이다.
즉 이부분은 **다형성**으로
다형성이란 부모 타입의 참조변수로 자식타입의 인스턴스를 참조할수 있는 것을 의미한다. 즉, 멤버가 적은참조변수는 멤버가 같거나 많은 인스턴스를 참조할수있다. 이러한 다형성을 통해서 구현체가 달라서 로직의 일관성을 지킬수있다.
`controller.process(request, response);`
