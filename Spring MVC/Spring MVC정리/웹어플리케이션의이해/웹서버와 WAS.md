# HTTP

- HTTP 메시지에 모든걸 전송한다!
- HTML, TEXT, IMAGE, 음성, JSON, XML(API), 거의모든형태의 데이터전송가능!
- 심지어 서버간 데이터를 주고 받을 때도 대부분 HTTP 사용
- **지금은 HTTP시대!!**

# 웹 서버

- HTTP기반으로 동작
- 정적리소스 제공, (+ 기타 부가기능제공)
- 웹서버에 있는 정적으로 존재하는 HTML, CSS, JS, 이미지를 그냥 웹브라우저에서 요청이 오면 내려줌
- ex) NGINX,APACHE

# 웹 어플리케이션 서버(WAS - Web Application Server)

- HTTP 기반으로 동작
- 웹 서버처럼 정적인 리소스 제공도함!
- 가장 중요한건 프로그램 코드를 통해서 어플리케이션 로직을 실행한다는 것이다.(웹서버는 정적인 리소스 내려주는게 끝인데 WAS는 프로그램 코드를 통해서 웹브라우저마다 다른 화면을 내려줄수있겠다.)
- 동적 HTML, HTTP API(JSON) - REST API..
- 서블릿, JSP, 스프링 MVC
- ex) 톰캣, Jetty, Undertow

# 웹 서버 vs 웹 어플리케이션 서버(WAS)

- 웹 서버는 정적리소스, WAS는 어플리케이션 로직(프로그램 코드를통한.)
- 사실 둘의 경계가 모호함.
- 그냥 WAS는 어플리케이션 코드를 실행하는데 특화되어있다고 생각!

# 웹 시스템 구성 - WAS, DB

웹브라우저 - WAS - DB
이걸로만구성..

- WAS 하나에서 정적리소스, 어플리케이션 로직모두 제공한다.

-> 단점!

1. WAS가 너무많은 역할을 담당한다. 즉, 서버 과부하 우려.
2. 가장 비싼 어플리케이션 로직이 정적 리소스 때문에 수행이 어려울수있따.(어플리케이션 로직이 정적 리소스 보다 값지고 비싸다.)
3. WAS장애시 오류화면 조차도 노출못시킨다. (서버가 WAS하나이므로.)

# 그래서! 웹서버 - WAS - DB구조의 웹시스템

웹브라우저 - 웹서버 - WAS - DB

- 정적리소스는 웹서버가 처리!(WAS와 는 정적리소스 관리 x)
- 웹 서버는 어플리케이션같은 동적인 처리가 필요하면 WAS에 요청을 위임.(한마디로 어플리케이션 로직은 WAS가 담당)
- WAS는 중요한 어플리케이션 로직만 담당하게됨.

-> 장점!

1. 효율적인 리소스관리(만약 정적리소스가 늘게되면 웹서버부담늘리고, 어플리케이션 리소스가 늘게되면 WAS를 증설한다..)
2. 정적리소스만 제공하는 웹서버는 잘 안죽음(그냥 처음에 정적리소스를 '어떤 요청이들어오면 어떤 리소스 제공해라'라는 설정만 하면되므로 간단해서 잘안죽음.)
3. 어플리케이션 로직이 동작하는 WAS는 잘죽음 (당연함. 더복잡하닌까,)
4. WAS, DB장애시 웹서버가 오류화면제공가능!(정적리소스 , 오류화면가지고있는 웹서버가 WAS에게 어플리케이션 로직 요청위임했는데 잘 안되면 그냥 정적인 오류화면 웹브에게 내려주면 끝임.)

- 추가로 API로 데이터만 제공한다면 굳이 웹서버 없어도됨. WAS만으로 가능함.
